
{% extends 'back.html.twig' %}


{% block body %}


<div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between bg-galaxy-transparent">
                                <h4 class="mb-sm-0">Ajouter des Evenements</h4>

                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Forms</a></li>
                                        <li class="breadcrumb-item active">Ajouter des Evenements</li>
                                    </ol>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- end page title -->
                  


<!-- formulaire -->

{% block form %}
<form action="{{ path('event_edit', {'idevent': event.idevent}) }}"    method="post" class="row g-3" enctype="multipart/form-data">
    {{ form_start(f) }}

    <div class="col-md-12">
        {{ form_label(f.titre, 'Nom', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.titre, {'attr': {'class': 'form-control', 'placeholder': 'Enter le nom du pack'}}) }}
    </div>
    <div class="col-md-6">
        {{ form_label(f.description, 'Reduction', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.description, {'attr': {'class': 'form-control', 'placeholder': 'Enter la référence du pack'}}) }}
    </div>
  
    {% if previousImage is not empty %}
        <div class="col-md-12">
            <label for="image" class="form-label">previousImage</label>
            <img id="previousImagePreview" src="{{ asset('uploads/images/' ~ previousImage) }}" alt="previousImage" class="img-thumbnail">
        </div>
    {% endif %}

    <div class="col-md-12">
        {{ form_label(f.image, 'Charger une nouvelle image', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.image, {'attr': {'class': 'form-control', 'accept': '', 'onchange': 'updateImagePreview(this)'}}) }}
    
    </div>

      <div class="col-md-12">
        {{ form_label(f.datedebut, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.datedebut, {'attr': {'class': 'form-control', 'placeholder': 'Enter la description du pack'}}) }}
    </div>
      <div class="col-md-12">
        {{ form_label(f.datefin, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.datefin, {'attr': {'class': 'form-control', 'placeholder': 'Enter la description du pack'}}) }}
    </div>

       <div class="col-md-12">
        {{ form_label(f.idsponso, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.idsponso, {'attr': {'class': 'form-control', 'placeholder': 'Enter la description du pack'}}) }}
    </div>
       <div class="col-md-12">
        {{ form_label(f.idterrain, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.idterrain, {'attr': {'class': 'form-control', 'placeholder': 'Enter la description du pack'}}) }}
    </div>

     <div class="col-md-12">
        {{ form_label(f.iduser, 'Description', {'label_attr': {'class': 'form-label'}}) }}
        {{ form_widget(f.iduser, {'attr': {'class': 'form-control', 'placeholder': 'Enter la description du pack'}}) }}
    </div>



    <div class="col-12">
        <div class="text-end">
            <button type="submit" class="btn btn-primary" onclick="return validateForm()">modifier</button>
        </div>
    </div>

    {{ form_end(f) }}
</form>
<!-- end formulaire -->

{% endblock %}


<script>
    function updateImagePreview(input) {
        var previousImagePreview = document.getElementById('previousImagePreview');
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                previousImagePreview.src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>







<script>
    function validateImage(input) {
        var errorMessage = document.getElementById('image-error');
        if (input.files.length === 0) {
            errorMessage.style.display = 'inline';
        } else {
            errorMessage.style.display = 'none';
        }
    }

    function validateForm() {
        var imageInput = document.getElementById('pack_image');
        if (imageInput.files.length === 0) {
            var errorMessage = document.getElementById('image-error');
            errorMessage.style.display = 'inline';
            return false;
        }
        return true;
    }
</script>

{% endblock %}






                       
